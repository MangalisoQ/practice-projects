pipeline{
       agent {
                dockerfile {
                filename 'Dockerfile.dev'
                //label 'react-app-test'
                dir 'jenkins-reactjs-app'
                }
            }
    
    stages{
        stage("Docker Build"){
         

            // steps{
                 echo "========BUILDING========"
            //     sh 'docker build -t react-app-test:latest -f Dockerfile.dev .'
            // }
      
        }

        stage("Testings"){
            steps{
                 echo "========Testing========"
                 sh 'docker run  react-app-test npm run test'
            }
        }
    }
}